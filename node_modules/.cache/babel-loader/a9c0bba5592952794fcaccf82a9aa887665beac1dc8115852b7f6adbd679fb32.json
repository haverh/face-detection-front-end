{"ast":null,"code":"var through = require('through2');\nvar shasum = require('shasum-object');\nmodule.exports = function (opts) {\n  if (!opts) opts = {};\n  var rows = [];\n  return through.obj(write, end);\n  function write(row, enc, next) {\n    rows.push(row);\n    next();\n  }\n  function end() {\n    var tr = this;\n    rows.sort(cmp);\n    sorter(rows, tr, opts);\n  }\n};\nfunction sorter(rows, tr, opts) {\n  var expose = opts.expose || {};\n  if (Array.isArray(expose)) {\n    expose = expose.reduce(function (acc, key) {\n      acc[key] = true;\n      return acc;\n    }, {});\n  }\n  var hashes = {},\n    deduped = {};\n  var sameDeps = depCmp();\n  if (opts.dedupe) {\n    rows.forEach(function (row) {\n      var h = shasum(row.source);\n      sameDeps.add(row, h);\n      if (hashes[h]) {\n        hashes[h].push(row);\n      } else {\n        hashes[h] = [row];\n      }\n    });\n    Object.keys(hashes).forEach(function (h) {\n      var rows = hashes[h];\n      while (rows.length > 1) {\n        var row = rows.pop();\n        row.dedupe = rows[0].id;\n        row.sameDeps = sameDeps.cmp(rows[0].deps, row.deps);\n        deduped[row.id] = rows[0].id;\n      }\n    });\n  }\n  if (opts.index) {\n    var index = {};\n    var offset = 0;\n    rows.forEach(function (row, ix) {\n      if (has(expose, row.id)) {\n        row.index = row.id;\n        offset++;\n        if (expose[row.id] !== true) {\n          index[expose[row.id]] = row.index;\n        }\n      } else {\n        row.index = ix + 1 - offset;\n      }\n      index[row.id] = row.index;\n    });\n    rows.forEach(function (row) {\n      row.indexDeps = {};\n      Object.keys(row.deps).forEach(function (key) {\n        var id = row.deps[key];\n        row.indexDeps[key] = index[id];\n      });\n      if (row.dedupe) {\n        row.dedupeIndex = index[row.dedupe];\n      }\n      tr.push(row);\n    });\n  } else {\n    rows.forEach(function (row) {\n      tr.push(row);\n    });\n  }\n  tr.push(null);\n}\nfunction cmp(a, b) {\n  return a.id + a.hash < b.id + b.hash ? -1 : 1;\n}\nfunction has(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\nfunction depCmp() {\n  var deps = {},\n    hashes = {};\n  return {\n    add: add,\n    cmp: cmp\n  };\n  function add(row, hash) {\n    deps[row.id] = row.deps;\n    hashes[row.id] = hash;\n  }\n  function cmp(a, b, limit) {\n    if (!a && !b) return true;\n    if (!a || !b) return false;\n    var keys = Object.keys(a);\n    if (keys.length !== Object.keys(b).length) return false;\n    for (var i = 0; i < keys.length; i++) {\n      var k = keys[i],\n        ka = a[k],\n        kb = b[k];\n      var ha = hashes[ka];\n      var hb = hashes[kb];\n      var da = deps[ka];\n      var db = deps[kb];\n      if (ka === kb) continue;\n      if (ha !== hb || !limit && !cmp(da, db, 1)) {\n        return false;\n      }\n    }\n    return true;\n  }\n}","map":{"version":3,"names":["through","require","shasum","module","exports","opts","rows","obj","write","end","row","enc","next","push","tr","sort","cmp","sorter","expose","Array","isArray","reduce","acc","key","hashes","deduped","sameDeps","depCmp","dedupe","forEach","h","source","add","Object","keys","length","pop","id","deps","index","offset","ix","has","indexDeps","dedupeIndex","a","b","hash","prototype","hasOwnProperty","call","limit","i","k","ka","kb","ha","hb","da","db"],"sources":["C:/Users/straw/Desktop/Personal CS Projects/ZTM/Web Developer Course/face-recognition/node_modules/deps-sort/index.js"],"sourcesContent":["var through = require('through2');\nvar shasum = require('shasum-object');\n\nmodule.exports = function (opts) {\n    if (!opts) opts = {};\n    var rows = [];\n    return through.obj(write, end);\n    \n    function write (row, enc, next) { rows.push(row); next() }\n    \n    function end () {\n        var tr = this;\n        rows.sort(cmp);\n        sorter(rows, tr, opts);\n    }\n};\n\nfunction sorter (rows, tr, opts) {\n    var expose = opts.expose || {};\n    if (Array.isArray(expose)) {\n        expose = expose.reduce(function (acc, key) {\n            acc[key] = true;\n            return acc;\n        }, {});\n    }\n    \n    var hashes = {}, deduped = {};\n    var sameDeps = depCmp();\n    \n    if (opts.dedupe) {\n        rows.forEach(function (row) {\n            var h = shasum(row.source);\n            sameDeps.add(row, h);\n            if (hashes[h]) {\n                hashes[h].push(row);\n            } else {\n                hashes[h] = [row];\n            }\n        });\n        Object.keys(hashes).forEach(function (h) {\n            var rows = hashes[h];\n            while (rows.length > 1) {\n                var row = rows.pop();\n                row.dedupe = rows[0].id;\n                row.sameDeps = sameDeps.cmp(rows[0].deps, row.deps);\n                deduped[row.id] = rows[0].id;\n            }\n        });\n    }\n    \n    if (opts.index) {\n        var index = {};\n        var offset = 0;\n        rows.forEach(function (row, ix) {\n            if (has(expose, row.id)) {\n                row.index = row.id;\n                offset ++;\n                if (expose[row.id] !== true) {\n                    index[expose[row.id]] = row.index;\n                }\n            }\n            else {\n                row.index = ix + 1 - offset;\n            }\n            index[row.id] = row.index;\n        });\n        rows.forEach(function (row) {\n            row.indexDeps = {};\n            Object.keys(row.deps).forEach(function (key) {\n                var id = row.deps[key];\n                row.indexDeps[key] = index[id];\n            });\n            if (row.dedupe) {\n                row.dedupeIndex = index[row.dedupe];\n            }\n            tr.push(row);\n        });\n    }\n    else {\n        rows.forEach(function (row) { tr.push(row) });\n    }\n    tr.push(null);\n}\n\nfunction cmp (a, b) {\n    return a.id + a.hash < b.id + b.hash ? -1 : 1;\n}\n\nfunction has (obj, key) {\n    return Object.prototype.hasOwnProperty.call(obj, key);\n}\n\nfunction depCmp () {\n    var deps = {}, hashes = {};\n    return { add: add, cmp: cmp }\n    \n    function add (row, hash) {\n        deps[row.id] = row.deps;\n        hashes[row.id] = hash;\n    }\n    function cmp (a, b, limit) {\n        if (!a && !b) return true;\n        if (!a || !b) return false;\n        \n        var keys = Object.keys(a);\n        if (keys.length !== Object.keys(b).length) return false;\n\n        for (var i = 0; i < keys.length; i++) {\n            var k = keys[i], ka = a[k], kb = b[k];\n            var ha = hashes[ka];\n            var hb = hashes[kb];\n            var da = deps[ka];\n            var db = deps[kb];\n\n            if (ka === kb) continue;\n            if (ha !== hb || (!limit && !cmp(da, db, 1))) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}