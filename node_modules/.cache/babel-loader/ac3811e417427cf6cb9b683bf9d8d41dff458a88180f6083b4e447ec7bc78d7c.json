{"ast":null,"code":"var path = require('path');\nvar mdeps = require('module-deps');\nvar depsSort = require('deps-sort');\nvar bpack = require('browser-pack');\nvar insertGlobals = require('insert-module-globals');\nvar syntaxError = require('syntax-error');\nvar builtins = require('./lib/builtins.js');\nvar splicer = require('labeled-stream-splicer');\nvar through = require('through2');\nvar concat = require('concat-stream');\nvar inherits = require('inherits');\nvar EventEmitter = require('events').EventEmitter;\nvar xtend = require('xtend');\nvar isArray = Array.isArray;\nvar defined = require('defined');\nvar has = require('has');\nvar sanitize = require('htmlescape').sanitize;\nvar shasum = require('shasum-object');\nvar bresolve = require('browser-resolve');\nvar resolve = require('resolve');\nvar readonly = require('read-only-stream');\nmodule.exports = Browserify;\ninherits(Browserify, EventEmitter);\nvar fs = require('fs');\nvar path = require('path');\nvar cachedPathRelative = require('cached-path-relative');\nvar paths = {\n  empty: path.join(__dirname, 'lib/_empty.js')\n};\nfunction Browserify(files, opts) {\n  var self = this;\n  if (!(this instanceof Browserify)) return new Browserify(files, opts);\n  if (!opts) opts = {};\n  if (typeof files === 'string' || isArray(files) || isStream(files)) {\n    opts = xtend(opts, {\n      entries: [].concat(opts.entries || [], files)\n    });\n  } else opts = xtend(files, opts);\n  if (opts.node) {\n    opts.bare = true;\n    opts.browserField = false;\n  }\n  if (opts.bare) {\n    opts.builtins = false;\n    opts.commondir = false;\n    if (opts.insertGlobalVars === undefined) {\n      opts.insertGlobalVars = {};\n      Object.keys(insertGlobals.vars).forEach(function (name) {\n        if (name !== '__dirname' && name !== '__filename') {\n          opts.insertGlobalVars[name] = undefined;\n        }\n      });\n    }\n  }\n  self._options = opts;\n  if (opts.noparse) opts.noParse = opts.noparse;\n  if (opts.basedir !== undefined && typeof opts.basedir !== 'string') {\n    throw new Error('opts.basedir must be either undefined or a string.');\n  }\n  opts.dedupe = opts.dedupe === false ? false : true;\n  self._external = [];\n  self._exclude = [];\n  self._ignore = [];\n  self._expose = {};\n  self._hashes = {};\n  self._pending = 0;\n  self._transformOrder = 0;\n  self._transformPending = 0;\n  self._transforms = [];\n  self._entryOrder = 0;\n  self._ticked = false;\n  var browserField = opts.browserField;\n  self._bresolve = browserField === false ? function (id, opts, cb) {\n    if (!opts.basedir) opts.basedir = path.dirname(opts.filename);\n    resolve(id, opts, cb);\n  } : typeof browserField === 'string' ? function (id, opts, cb) {\n    opts.browser = browserField;\n    bresolve(id, opts, cb);\n  } : bresolve;\n  self._syntaxCache = {};\n  var ignoreTransform = [].concat(opts.ignoreTransform).filter(Boolean);\n  self._filterTransform = function (tr) {\n    if (isArray(tr)) {\n      return ignoreTransform.indexOf(tr[0]) === -1;\n    }\n    return ignoreTransform.indexOf(tr) === -1;\n  };\n  self.pipeline = self._createPipeline(opts);\n  [].concat(opts.transform).filter(Boolean).filter(self._filterTransform).forEach(function (tr) {\n    self.transform(tr);\n  });\n  [].concat(opts.entries).filter(Boolean).forEach(function (file) {\n    self.add(file, {\n      basedir: opts.basedir\n    });\n  });\n  [].concat(opts.require).filter(Boolean).forEach(function (file) {\n    self.require(file, {\n      basedir: opts.basedir\n    });\n  });\n  [].concat(opts.plugin).filter(Boolean).forEach(function (p) {\n    self.plugin(p, {\n      basedir: opts.basedir\n    });\n  });\n}\nBrowserify.prototype.require = function (file, opts) {\n  var self = this;\n  if (isArray(file)) {\n    file.forEach(function (x) {\n      if (typeof x === 'object') {\n        self.require(x.file, xtend(opts, x));\n      } else self.require(x, opts);\n    });\n    return this;\n  }\n  if (!opts) opts = {};\n  var basedir = defined(opts.basedir, self._options.basedir, process.cwd());\n  var expose = opts.expose;\n  if (file === expose && /^[\\.]/.test(expose)) {\n    expose = '/' + relativePath(basedir, expose);\n  }\n  if (expose === undefined && this._options.exposeAll) {\n    expose = true;\n  }\n  if (expose === true) {\n    expose = '/' + relativePath(basedir, file);\n  }\n  if (isStream(file)) {\n    self._pending++;\n    var order = self._entryOrder++;\n    file.pipe(concat(function (buf) {\n      var filename = opts.file || file.file || path.join(basedir, '_stream_' + order + '.js');\n      var id = file.id || expose || filename;\n      if (expose || opts.entry === false) {\n        self._expose[id] = filename;\n      }\n      if (!opts.entry && self._options.exports === undefined) {\n        self._bpack.hasExports = true;\n      }\n      var rec = {\n        source: buf.toString('utf8'),\n        entry: defined(opts.entry, false),\n        file: filename,\n        id: id\n      };\n      if (rec.entry) rec.order = order;\n      if (rec.transform === false) rec.transform = false;\n      self.pipeline.write(rec);\n      if (--self._pending === 0) self.emit('_ready');\n    }));\n    return this;\n  }\n  var row;\n  if (typeof file === 'object') {\n    row = xtend(file, opts);\n  } else if (!opts.entry && isExternalModule(file)) {\n    // external module or builtin\n    row = xtend(opts, {\n      id: expose || file,\n      file: file\n    });\n  } else {\n    row = xtend(opts, {\n      file: path.resolve(basedir, file)\n    });\n  }\n  if (!row.id) {\n    row.id = expose || row.file;\n  }\n  if (expose || !row.entry) {\n    // Make this available to mdeps so that it can assign the value when it\n    // resolves the pathname.\n    row.expose = row.id;\n  }\n  if (opts.external) return self.external(file, opts);\n  if (row.entry === undefined) row.entry = false;\n  if (!row.entry && self._options.exports === undefined) {\n    self._bpack.hasExports = true;\n  }\n  if (row.entry) row.order = self._entryOrder++;\n  if (opts.transform === false) row.transform = false;\n  self.pipeline.write(row);\n  return self;\n};\nBrowserify.prototype.add = function (file, opts) {\n  var self = this;\n  if (!opts) opts = {};\n  if (isArray(file)) {\n    file.forEach(function (x) {\n      self.add(x, opts);\n    });\n    return this;\n  }\n  return this.require(file, xtend({\n    entry: true,\n    expose: false\n  }, opts));\n};\nBrowserify.prototype.external = function (file, opts) {\n  var self = this;\n  if (isArray(file)) {\n    file.forEach(function (f) {\n      if (typeof f === 'object') {\n        self.external(f, xtend(opts, f));\n      } else self.external(f, opts);\n    });\n    return this;\n  }\n  if (file && typeof file === 'object' && typeof file.bundle === 'function') {\n    var b = file;\n    self._pending++;\n    var bdeps = {};\n    var blabels = {};\n    b.on('label', function (prev, id) {\n      self._external.push(id);\n      if (prev !== id) {\n        blabels[prev] = id;\n        self._external.push(prev);\n      }\n    });\n    b.pipeline.get('deps').push(through.obj(function (row, enc, next) {\n      bdeps = xtend(bdeps, row.deps);\n      this.push(row);\n      next();\n    }));\n    self.on('dep', function (row) {\n      Object.keys(row.deps).forEach(function (key) {\n        var prev = bdeps[key];\n        if (prev) {\n          var id = blabels[prev];\n          if (id) {\n            row.indexDeps[key] = id;\n          }\n        }\n      });\n    });\n    b.pipeline.get('label').once('end', function () {\n      if (--self._pending === 0) self.emit('_ready');\n    });\n    return this;\n  }\n  if (!opts) opts = {};\n  var basedir = defined(opts.basedir, process.cwd());\n  this._external.push(file);\n  this._external.push('/' + relativePath(basedir, file));\n  return this;\n};\nBrowserify.prototype.exclude = function (file, opts) {\n  if (!opts) opts = {};\n  if (isArray(file)) {\n    var self = this;\n    file.forEach(function (file) {\n      self.exclude(file, opts);\n    });\n    return this;\n  }\n  var basedir = defined(opts.basedir, process.cwd());\n  this._exclude.push(file);\n  this._exclude.push('/' + relativePath(basedir, file));\n  return this;\n};\nBrowserify.prototype.ignore = function (file, opts) {\n  if (!opts) opts = {};\n  if (isArray(file)) {\n    var self = this;\n    file.forEach(function (file) {\n      self.ignore(file, opts);\n    });\n    return this;\n  }\n  var basedir = defined(opts.basedir, process.cwd());\n\n  // Handle relative paths\n  if (file[0] === '.') {\n    this._ignore.push(path.resolve(basedir, file));\n  } else {\n    this._ignore.push(file);\n  }\n  return this;\n};\nBrowserify.prototype.transform = function (tr, opts) {\n  var self = this;\n  if (typeof opts === 'function' || typeof opts === 'string') {\n    tr = [opts, tr];\n  }\n  if (isArray(tr)) {\n    opts = tr[1];\n    tr = tr[0];\n  }\n\n  //if the bundler is ignoring this transform\n  if (typeof tr === 'string' && !self._filterTransform(tr)) {\n    return this;\n  }\n  function resolved() {\n    self._transforms[order] = rec;\n    --self._pending;\n    if (--self._transformPending === 0) {\n      self._transforms.forEach(function (transform) {\n        self.pipeline.write(transform);\n      });\n      if (self._pending === 0) {\n        self.emit('_ready');\n      }\n    }\n  }\n  if (!opts) opts = {};\n  opts._flags = '_flags' in opts ? opts._flags : self._options;\n  var basedir = defined(opts.basedir, this._options.basedir, process.cwd());\n  var order = self._transformOrder++;\n  self._pending++;\n  self._transformPending++;\n  var rec = {\n    transform: tr,\n    options: opts,\n    global: opts.global\n  };\n  if (typeof tr === 'string') {\n    var topts = {\n      basedir: basedir,\n      paths: (self._options.paths || []).map(function (p) {\n        return path.resolve(basedir, p);\n      })\n    };\n    resolve(tr, topts, function (err, res) {\n      if (err) return self.emit('error', err);\n      rec.transform = res;\n      resolved();\n    });\n  } else process.nextTick(resolved);\n  return this;\n};\nBrowserify.prototype.plugin = function (p, opts) {\n  if (isArray(p)) {\n    opts = p[1];\n    p = p[0];\n  }\n  if (!opts) opts = {};\n  var basedir = defined(opts.basedir, this._options.basedir, process.cwd());\n  if (typeof p === 'function') {\n    p(this, opts);\n  } else {\n    var pfile = resolve.sync(String(p), {\n      basedir: basedir\n    });\n    var f = require(pfile);\n    if (typeof f !== 'function') {\n      throw new Error('plugin ' + p + ' should export a function');\n    }\n    f(this, opts);\n  }\n  return this;\n};\nBrowserify.prototype._createPipeline = function (opts) {\n  var self = this;\n  if (!opts) opts = {};\n  this._mdeps = this._createDeps(opts);\n  this._mdeps.on('file', function (file, id) {\n    pipeline.emit('file', file, id);\n    self.emit('file', file, id);\n  });\n  this._mdeps.on('package', function (pkg) {\n    pipeline.emit('package', pkg);\n    self.emit('package', pkg);\n  });\n  this._mdeps.on('transform', function (tr, file) {\n    pipeline.emit('transform', tr, file);\n    self.emit('transform', tr, file);\n  });\n  var dopts = {\n    index: !opts.fullPaths && !opts.exposeAll,\n    dedupe: opts.dedupe,\n    expose: this._expose\n  };\n  this._bpack = bpack(xtend(opts, {\n    raw: true\n  }));\n  var pipeline = splicer.obj(['record', [this._recorder()], 'deps', [this._mdeps], 'json', [this._json()], 'unbom', [this._unbom()], 'unshebang', [this._unshebang()], 'syntax', [this._syntax()], 'sort', [depsSort(dopts)], 'dedupe', [this._dedupe()], 'label', [this._label(opts)], 'emit-deps', [this._emitDeps()], 'debug', [this._debug(opts)], 'pack', [this._bpack], 'wrap', []]);\n  if (opts.exposeAll) {\n    var basedir = defined(opts.basedir, process.cwd());\n    pipeline.get('deps').push(through.obj(function (row, enc, next) {\n      if (self._external.indexOf(row.id) >= 0) return next();\n      if (self._external.indexOf(row.file) >= 0) return next();\n      if (isAbsolutePath(row.id)) {\n        row.id = '/' + relativePath(basedir, row.file);\n      }\n      Object.keys(row.deps || {}).forEach(function (key) {\n        row.deps[key] = '/' + relativePath(basedir, row.deps[key]);\n      });\n      this.push(row);\n      next();\n    }));\n  }\n  return pipeline;\n};\nBrowserify.prototype._createDeps = function (opts) {\n  var self = this;\n  var mopts = xtend(opts);\n  var basedir = defined(opts.basedir, process.cwd());\n\n  // Let mdeps populate these values since it will be resolving file paths\n  // anyway.\n  mopts.expose = this._expose;\n  mopts.extensions = ['.js', '.json'].concat(mopts.extensions || []);\n  self._extensions = mopts.extensions;\n  mopts.transform = [];\n  mopts.transformKey = defined(opts.transformKey, ['browserify', 'transform']);\n  mopts.postFilter = function (id, file, pkg) {\n    if (opts.postFilter && !opts.postFilter(id, file, pkg)) return false;\n    if (self._external.indexOf(file) >= 0) return false;\n    if (self._exclude.indexOf(file) >= 0) return false;\n\n    //filter transforms on module dependencies\n    if (pkg && pkg.browserify && pkg.browserify.transform) {\n      //In edge cases it may be a string\n      pkg.browserify.transform = [].concat(pkg.browserify.transform).filter(Boolean).filter(self._filterTransform);\n    }\n    return true;\n  };\n  mopts.filter = function (id) {\n    if (opts.filter && !opts.filter(id)) return false;\n    if (self._external.indexOf(id) >= 0) return false;\n    if (self._exclude.indexOf(id) >= 0) return false;\n    if (opts.bundleExternal === false && isExternalModule(id)) {\n      return false;\n    }\n    return true;\n  };\n  mopts.resolve = function (id, parent, cb) {\n    if (self._ignore.indexOf(id) >= 0) return cb(null, paths.empty, {});\n    self._bresolve(id, parent, function (err, file, pkg) {\n      if (file && self._ignore.indexOf(file) >= 0) {\n        return cb(null, paths.empty, {});\n      }\n      if (file && self._ignore.length) {\n        var nm = file.replace(/\\\\/g, '/').split('/node_modules/')[1];\n        if (nm) {\n          nm = nm.split('/')[0];\n          if (self._ignore.indexOf(nm) >= 0) {\n            return cb(null, paths.empty, {});\n          }\n        }\n      }\n      if (file) {\n        var ex = '/' + relativePath(basedir, file);\n        if (self._external.indexOf(ex) >= 0) {\n          return cb(null, ex);\n        }\n        if (self._exclude.indexOf(ex) >= 0) {\n          return cb(null, ex);\n        }\n        if (self._ignore.indexOf(ex) >= 0) {\n          return cb(null, paths.empty, {});\n        }\n      }\n      if (err) cb(err, file, pkg);else if (file) {\n        if (opts.preserveSymlinks && parent.id !== self._mdeps.top.id) {\n          return cb(err, path.resolve(file), pkg, file);\n        }\n        fs.realpath(file, function (err, res) {\n          cb(err, res, pkg, file);\n        });\n      } else cb(err, null, pkg);\n    });\n  };\n  if (opts.builtins === false) {\n    mopts.modules = {};\n    self._exclude.push.apply(self._exclude, Object.keys(builtins));\n  } else if (opts.builtins && isArray(opts.builtins)) {\n    mopts.modules = {};\n    opts.builtins.forEach(function (key) {\n      mopts.modules[key] = builtins[key];\n    });\n  } else if (opts.builtins && typeof opts.builtins === 'object') {\n    mopts.modules = opts.builtins;\n  } else mopts.modules = xtend(builtins);\n  Object.keys(builtins).forEach(function (key) {\n    if (!has(mopts.modules, key)) self._exclude.push(key);\n  });\n  mopts.globalTransform = [];\n  if (!this._bundled) {\n    this.once('bundle', function () {\n      self.pipeline.write({\n        transform: globalTr,\n        global: true,\n        options: {}\n      });\n    });\n  }\n  var no = [].concat(opts.noParse).filter(Boolean);\n  var absno = no.filter(function (x) {\n    return typeof x === 'string';\n  }).map(function (x) {\n    return path.resolve(basedir, x);\n  });\n  function globalTr(file) {\n    if (opts.detectGlobals === false) return through();\n    if (opts.noParse === true) return through();\n    if (no.indexOf(file) >= 0) return through();\n    if (absno.indexOf(file) >= 0) return through();\n    var parts = file.replace(/\\\\/g, '/').split('/node_modules/');\n    for (var i = 0; i < no.length; i++) {\n      if (typeof no[i] === 'function' && no[i](file)) {\n        return through();\n      } else if (no[i] === parts[parts.length - 1].split('/')[0]) {\n        return through();\n      } else if (no[i] === parts[parts.length - 1]) {\n        return through();\n      }\n    }\n    if (opts.commondir === false && opts.builtins === false) {\n      opts.insertGlobalVars = xtend({\n        __dirname: function (file, basedir) {\n          var dir = path.dirname(path.relative(basedir, file));\n          return 'require(\"path\").join(__dirname,' + dir.split(path.sep).map(JSON.stringify).join(',') + ')';\n        },\n        __filename: function (file, basedir) {\n          var filename = path.relative(basedir, file);\n          return 'require(\"path\").join(__dirname,' + filename.split(path.sep).map(JSON.stringify).join(',') + ')';\n        }\n      }, opts.insertGlobalVars);\n    }\n    var vars = xtend({\n      process: function () {\n        return \"require('_process')\";\n      }\n    }, opts.insertGlobalVars);\n    if (opts.bundleExternal === false) {\n      vars.process = undefined;\n      vars.buffer = undefined;\n    }\n    return insertGlobals(file, xtend(opts, {\n      debug: opts.debug,\n      always: opts.insertGlobals,\n      basedir: opts.commondir === false && isArray(opts.builtins) ? '/' : opts.basedir || process.cwd(),\n      vars: vars\n    }));\n  }\n  return mdeps(mopts);\n};\nBrowserify.prototype._recorder = function (opts) {\n  var self = this;\n  var ended = false;\n  this._recorded = [];\n  if (!this._ticked) {\n    process.nextTick(function () {\n      self._ticked = true;\n      self._recorded.forEach(function (row) {\n        stream.push(row);\n      });\n      if (ended) stream.push(null);\n    });\n  }\n  var stream = through.obj(write, end);\n  return stream;\n  function write(row, enc, next) {\n    self._recorded.push(row);\n    if (self._ticked) this.push(row);\n    next();\n  }\n  function end() {\n    ended = true;\n    if (self._ticked) this.push(null);\n  }\n};\nBrowserify.prototype._json = function () {\n  return through.obj(function (row, enc, next) {\n    if (/\\.json$/.test(row.file)) {\n      var sanitizedString = sanitize(row.source);\n      try {\n        // check json validity\n        JSON.parse(sanitizedString);\n        row.source = 'module.exports=' + sanitizedString;\n      } catch (err) {\n        err.message = 'While parsing ' + (row.file || row.id) + ': ' + err.message;\n        this.emit('error', err);\n        return;\n      }\n    }\n    this.push(row);\n    next();\n  });\n};\nBrowserify.prototype._unbom = function () {\n  return through.obj(function (row, enc, next) {\n    if (/^\\ufeff/.test(row.source)) {\n      row.source = row.source.replace(/^\\ufeff/, '');\n    }\n    this.push(row);\n    next();\n  });\n};\nBrowserify.prototype._unshebang = function () {\n  return through.obj(function (row, enc, next) {\n    if (/^#!/.test(row.source)) {\n      row.source = row.source.replace(/^#![^\\n]*\\n/, '');\n    }\n    this.push(row);\n    next();\n  });\n};\nBrowserify.prototype._syntax = function () {\n  var self = this;\n  return through.obj(function (row, enc, next) {\n    var h = shasum(row.source);\n    if (typeof self._syntaxCache[h] === 'undefined') {\n      var err = syntaxError(row.source, row.file || row.id);\n      if (err) return this.emit('error', err);\n      self._syntaxCache[h] = true;\n    }\n    this.push(row);\n    next();\n  });\n};\nBrowserify.prototype._dedupe = function () {\n  return through.obj(function (row, enc, next) {\n    if (!row.dedupeIndex && row.dedupe) {\n      row.source = 'arguments[4][' + JSON.stringify(row.dedupe) + '][0].apply(exports,arguments)';\n      row.nomap = true;\n    } else if (row.dedupeIndex) {\n      row.source = 'arguments[4][' + JSON.stringify(row.dedupeIndex) + '][0].apply(exports,arguments)';\n      row.nomap = true;\n    }\n    if (row.dedupeIndex && row.indexDeps) {\n      row.indexDeps.dup = row.dedupeIndex;\n    }\n    this.push(row);\n    next();\n  });\n};\nBrowserify.prototype._label = function (opts) {\n  var self = this;\n  var basedir = defined(opts.basedir, process.cwd());\n  return through.obj(function (row, enc, next) {\n    var prev = row.id;\n    if (self._external.indexOf(row.id) >= 0) return next();\n    if (self._external.indexOf('/' + relativePath(basedir, row.id)) >= 0) {\n      return next();\n    }\n    if (self._external.indexOf(row.file) >= 0) return next();\n    if (row.index) row.id = row.index;\n    self.emit('label', prev, row.id);\n    if (row.indexDeps) row.deps = row.indexDeps || {};\n    Object.keys(row.deps).forEach(function (key) {\n      if (self._expose[key]) {\n        row.deps[key] = key;\n        return;\n      }\n      var afile = path.resolve(path.dirname(row.file), key);\n      var rfile = '/' + relativePath(basedir, afile);\n      if (self._external.indexOf(rfile) >= 0) {\n        row.deps[key] = rfile;\n      }\n      if (self._external.indexOf(afile) >= 0) {\n        row.deps[key] = rfile;\n      }\n      if (self._external.indexOf(key) >= 0) {\n        row.deps[key] = key;\n        return;\n      }\n      for (var i = 0; i < self._extensions.length; i++) {\n        var ex = self._extensions[i];\n        if (self._external.indexOf(rfile + ex) >= 0) {\n          row.deps[key] = rfile + ex;\n          break;\n        }\n      }\n    });\n    if (row.entry || row.expose) {\n      self._bpack.standaloneModule = row.id;\n    }\n    this.push(row);\n    next();\n  });\n};\nBrowserify.prototype._emitDeps = function () {\n  var self = this;\n  return through.obj(function (row, enc, next) {\n    self.emit('dep', row);\n    this.push(row);\n    next();\n  });\n};\nBrowserify.prototype._debug = function (opts) {\n  var basedir = defined(opts.basedir, process.cwd());\n  return through.obj(function (row, enc, next) {\n    if (opts.debug) {\n      row.sourceRoot = 'file://localhost';\n      row.sourceFile = relativePath(basedir, row.file);\n    }\n    this.push(row);\n    next();\n  });\n};\nBrowserify.prototype.reset = function (opts) {\n  if (!opts) opts = {};\n  var hadExports = this._bpack.hasExports;\n  this.pipeline = this._createPipeline(xtend(opts, this._options));\n  this._bpack.hasExports = hadExports;\n  this._entryOrder = 0;\n  this._bundled = false;\n  this.emit('reset');\n};\nBrowserify.prototype.bundle = function (cb) {\n  var self = this;\n  if (cb && typeof cb === 'object') {\n    throw new Error('bundle() no longer accepts option arguments.\\n' + 'Move all option arguments to the browserify() constructor.');\n  }\n  if (this._bundled) {\n    var recorded = this._recorded;\n    this.reset();\n    recorded.forEach(function (x) {\n      self.pipeline.write(x);\n    });\n  }\n  var output = readonly(this.pipeline);\n  if (cb) {\n    output.on('error', cb);\n    output.pipe(concat(function (body) {\n      cb(null, body);\n    }));\n  }\n  function ready() {\n    self.emit('bundle', output);\n    self.pipeline.end();\n  }\n  if (this._pending === 0) ready();else this.once('_ready', ready);\n  this._bundled = true;\n  return output;\n};\nfunction isStream(s) {\n  return s && typeof s.pipe === 'function';\n}\nfunction isAbsolutePath(file) {\n  var regexp = process.platform === 'win32' ? /^\\w:/ : /^\\//;\n  return regexp.test(file);\n}\nfunction isExternalModule(file) {\n  var regexp = process.platform === 'win32' ? /^(\\.|\\w:)/ : /^[\\/.]/;\n  return !regexp.test(file);\n}\nfunction relativePath(from, to) {\n  // Replace \\ with / for OS-independent behavior\n  return cachedPathRelative(from, to).replace(/\\\\/g, '/');\n}","map":{"version":3,"names":["path","require","mdeps","depsSort","bpack","insertGlobals","syntaxError","builtins","splicer","through","concat","inherits","EventEmitter","xtend","isArray","Array","defined","has","sanitize","shasum","bresolve","resolve","readonly","module","exports","Browserify","fs","cachedPathRelative","paths","empty","join","__dirname","files","opts","self","isStream","entries","node","bare","browserField","commondir","insertGlobalVars","undefined","Object","keys","vars","forEach","name","_options","noparse","noParse","basedir","Error","dedupe","_external","_exclude","_ignore","_expose","_hashes","_pending","_transformOrder","_transformPending","_transforms","_entryOrder","_ticked","_bresolve","id","cb","dirname","filename","browser","_syntaxCache","ignoreTransform","filter","Boolean","_filterTransform","tr","indexOf","pipeline","_createPipeline","transform","file","add","plugin","p","prototype","x","process","cwd","expose","test","relativePath","exposeAll","order","pipe","buf","entry","_bpack","hasExports","rec","source","toString","write","emit","row","isExternalModule","external","f","bundle","b","bdeps","blabels","on","prev","push","get","obj","enc","next","deps","key","indexDeps","once","exclude","ignore","resolved","_flags","options","global","topts","map","err","res","nextTick","pfile","sync","String","_mdeps","_createDeps","pkg","dopts","index","fullPaths","raw","_recorder","_json","_unbom","_unshebang","_syntax","_dedupe","_label","_emitDeps","_debug","isAbsolutePath","mopts","extensions","_extensions","transformKey","postFilter","browserify","bundleExternal","parent","length","nm","replace","split","ex","preserveSymlinks","top","realpath","modules","apply","globalTransform","_bundled","globalTr","no","absno","detectGlobals","parts","i","dir","relative","sep","JSON","stringify","__filename","buffer","debug","always","ended","_recorded","stream","end","sanitizedString","parse","message","h","dedupeIndex","nomap","dup","afile","rfile","standaloneModule","sourceRoot","sourceFile","reset","hadExports","recorded","output","body","ready","s","regexp","platform","from","to"],"sources":["C:/Users/straw/Desktop/Personal CS Projects/ZTM/Web Developer Course/face-recognition/node_modules/browserify/index.js"],"sourcesContent":["var path = require('path');\nvar mdeps = require('module-deps');\nvar depsSort = require('deps-sort');\nvar bpack = require('browser-pack');\nvar insertGlobals = require('insert-module-globals');\nvar syntaxError = require('syntax-error');\n\nvar builtins = require('./lib/builtins.js');\n\nvar splicer = require('labeled-stream-splicer');\nvar through = require('through2');\nvar concat = require('concat-stream');\n\nvar inherits = require('inherits');\nvar EventEmitter = require('events').EventEmitter;\nvar xtend = require('xtend');\nvar isArray = Array.isArray;\nvar defined = require('defined');\nvar has = require('has');\nvar sanitize = require('htmlescape').sanitize;\nvar shasum = require('shasum-object');\n\nvar bresolve = require('browser-resolve');\nvar resolve = require('resolve');\n\nvar readonly = require('read-only-stream');\n\nmodule.exports = Browserify;\ninherits(Browserify, EventEmitter);\n\nvar fs = require('fs');\nvar path = require('path');\nvar cachedPathRelative = require('cached-path-relative');\n\nvar paths = {\n    empty: path.join(__dirname, 'lib/_empty.js')\n};\n\nfunction Browserify (files, opts) {\n    var self = this;\n    if (!(this instanceof Browserify)) return new Browserify(files, opts);\n    if (!opts) opts = {};\n    \n    if (typeof files === 'string' || isArray(files) || isStream(files)) {\n        opts = xtend(opts, { entries: [].concat(opts.entries || [], files) });\n    }\n    else opts = xtend(files, opts);\n\n    if (opts.node) {\n        opts.bare = true;\n        opts.browserField = false;\n    }\n    if (opts.bare) {\n        opts.builtins = false;\n        opts.commondir = false;\n        if (opts.insertGlobalVars === undefined) {\n            opts.insertGlobalVars = {}\n            Object.keys(insertGlobals.vars).forEach(function (name) {\n                if (name !== '__dirname' && name !== '__filename') {\n                    opts.insertGlobalVars[name] = undefined;\n                }\n            })\n        }\n    }\n    \n    self._options = opts;\n    if (opts.noparse) opts.noParse = opts.noparse;\n    \n    if (opts.basedir !== undefined && typeof opts.basedir !== 'string') {\n        throw new Error('opts.basedir must be either undefined or a string.');\n    }\n\n    opts.dedupe = opts.dedupe === false ? false : true;\n\n    self._external = [];\n    self._exclude = [];\n    self._ignore = [];\n    self._expose = {};\n    self._hashes = {};\n    self._pending = 0;\n    self._transformOrder = 0;\n    self._transformPending = 0;\n    self._transforms = [];\n    self._entryOrder = 0;\n    self._ticked = false;\n\n    var browserField = opts.browserField\n    self._bresolve = browserField === false\n        ? function (id, opts, cb) {\n            if (!opts.basedir) opts.basedir = path.dirname(opts.filename)\n            resolve(id, opts, cb)\n        }\n        : typeof browserField === 'string'\n            ? function (id, opts, cb) {\n                opts.browser = browserField\n                bresolve(id, opts, cb)\n            }\n            : bresolve\n    ;\n    self._syntaxCache = {};\n\n    var ignoreTransform = [].concat(opts.ignoreTransform).filter(Boolean);\n    self._filterTransform = function (tr) {\n        if (isArray(tr)) {\n            return ignoreTransform.indexOf(tr[0]) === -1;\n        }\n        return ignoreTransform.indexOf(tr) === -1;\n    };\n\n    self.pipeline = self._createPipeline(opts);\n    \n    [].concat(opts.transform).filter(Boolean).filter(self._filterTransform)\n    .forEach(function (tr) {\n        self.transform(tr);\n    });\n    \n    [].concat(opts.entries).filter(Boolean).forEach(function (file) {\n        self.add(file, { basedir: opts.basedir });\n    });\n    \n    [].concat(opts.require).filter(Boolean).forEach(function (file) {\n        self.require(file, { basedir: opts.basedir });\n    });\n    \n    [].concat(opts.plugin).filter(Boolean).forEach(function (p) {\n        self.plugin(p, { basedir: opts.basedir });\n    });\n}\n\nBrowserify.prototype.require = function (file, opts) {\n    var self = this;\n    if (isArray(file)) {\n        file.forEach(function (x) {\n            if (typeof x === 'object') {\n                self.require(x.file, xtend(opts, x));\n            }\n            else self.require(x, opts);\n        });\n        return this;\n    }\n    \n    if (!opts) opts = {};\n    var basedir = defined(opts.basedir, self._options.basedir, process.cwd());\n    var expose = opts.expose;\n    if (file === expose && /^[\\.]/.test(expose)) {\n        expose = '/' + relativePath(basedir, expose);\n    }\n    if (expose === undefined && this._options.exposeAll) {\n        expose = true;\n    }\n    if (expose === true) {\n        expose = '/' + relativePath(basedir, file);\n    }\n    \n    if (isStream(file)) {\n        self._pending ++;\n        var order = self._entryOrder ++;\n        file.pipe(concat(function (buf) {\n            var filename = opts.file || file.file || path.join(\n                basedir,\n                '_stream_' + order + '.js'\n            );\n            var id = file.id || expose || filename;\n            if (expose || opts.entry === false) {\n                self._expose[id] = filename;\n            }\n            if (!opts.entry && self._options.exports === undefined) {\n                self._bpack.hasExports = true;\n            }\n            var rec = {\n                source: buf.toString('utf8'),\n                entry: defined(opts.entry, false),\n                file: filename,\n                id: id\n            };\n            if (rec.entry) rec.order = order;\n            if (rec.transform === false) rec.transform = false;\n            self.pipeline.write(rec);\n            \n            if (-- self._pending === 0) self.emit('_ready');\n        }));\n        return this;\n    }\n    \n    var row;\n    if (typeof file === 'object') {\n        row = xtend(file, opts);\n    }\n    else if (!opts.entry && isExternalModule(file)) {\n        // external module or builtin\n        row = xtend(opts, { id: expose || file, file: file });\n    }\n    else {\n        row = xtend(opts, { file: path.resolve(basedir, file) });\n    }\n    \n    if (!row.id) {\n        row.id = expose || row.file;\n    }\n    if (expose || !row.entry) {\n        // Make this available to mdeps so that it can assign the value when it\n        // resolves the pathname.\n        row.expose = row.id;\n    }\n    \n    if (opts.external) return self.external(file, opts);\n    if (row.entry === undefined) row.entry = false;\n    \n    if (!row.entry && self._options.exports === undefined) {\n        self._bpack.hasExports = true;\n    }\n    \n    if (row.entry) row.order = self._entryOrder ++;\n    \n    if (opts.transform === false) row.transform = false;\n    self.pipeline.write(row);\n    return self;\n};\n\nBrowserify.prototype.add = function (file, opts) {\n    var self = this;\n    if (!opts) opts = {};\n    if (isArray(file)) {\n        file.forEach(function (x) { self.add(x, opts) });\n        return this;\n    }\n    return this.require(file, xtend({ entry: true, expose: false }, opts));\n};\n\nBrowserify.prototype.external = function (file, opts) {\n    var self = this;\n    if (isArray(file)) {\n        file.forEach(function (f) {\n            if (typeof f === 'object') {\n                self.external(f, xtend(opts, f));\n            }\n            else self.external(f, opts)\n        });\n        return this;\n    }\n    if (file && typeof file === 'object' && typeof file.bundle === 'function') {\n        var b = file;\n        self._pending ++;\n\n        var bdeps = {};\n        var blabels = {};\n\n        b.on('label', function (prev, id) {\n            self._external.push(id);\n\n            if (prev !== id) {\n                blabels[prev] = id;\n                self._external.push(prev);\n            }\n        });\n\n        b.pipeline.get('deps').push(through.obj(function (row, enc, next) {\n            bdeps = xtend(bdeps, row.deps);\n            this.push(row);\n            next();\n        }));\n\n        self.on('dep', function (row) {\n            Object.keys(row.deps).forEach(function (key) {\n                var prev = bdeps[key];\n                if (prev) {\n                    var id = blabels[prev];\n                    if (id) {\n                        row.indexDeps[key] = id;\n                    }\n                }\n            });\n        });\n\n        b.pipeline.get('label').once('end', function () {\n            if (-- self._pending === 0) self.emit('_ready');\n        });\n        return this;\n    }\n    \n    if (!opts) opts = {};\n    var basedir = defined(opts.basedir, process.cwd());\n    this._external.push(file);\n    this._external.push('/' + relativePath(basedir, file));\n    return this;\n};\n\nBrowserify.prototype.exclude = function (file, opts) {\n    if (!opts) opts = {};\n    if (isArray(file)) {\n        var self = this;\n        file.forEach(function(file) {\n            self.exclude(file, opts);\n        });\n        return this;\n    }\n    var basedir = defined(opts.basedir, process.cwd());\n    this._exclude.push(file);\n    this._exclude.push('/' + relativePath(basedir, file));\n    return this;\n};\n\nBrowserify.prototype.ignore = function (file, opts) {\n    if (!opts) opts = {};\n    if (isArray(file)) {\n        var self = this;\n        file.forEach(function(file) {\n            self.ignore(file, opts);\n        });\n        return this;\n    }\n    var basedir = defined(opts.basedir, process.cwd());\n\n    // Handle relative paths\n    if (file[0] === '.') {\n        this._ignore.push(path.resolve(basedir, file));\n    }\n    else {\n        this._ignore.push(file);\n    }\n    return this;\n};\n\nBrowserify.prototype.transform = function (tr, opts) {\n    var self = this;\n    if (typeof opts === 'function' || typeof opts === 'string') {\n        tr = [ opts, tr ];\n    }\n    if (isArray(tr)) {\n        opts = tr[1];\n        tr = tr[0];\n    }\n    \n    //if the bundler is ignoring this transform\n    if (typeof tr === 'string' && !self._filterTransform(tr)) {\n        return this;\n    }\n\n    function resolved () {\n      self._transforms[order] = rec;\n      -- self._pending;\n      if (-- self._transformPending === 0) {\n          self._transforms.forEach(function (transform) {\n            self.pipeline.write(transform);\n          });\n\n          if (self._pending === 0) {\n            self.emit('_ready');\n          }\n      }\n    }\n    \n    if (!opts) opts = {};\n    opts._flags = '_flags' in opts ? opts._flags : self._options;\n    \n    var basedir = defined(opts.basedir, this._options.basedir, process.cwd());\n    var order = self._transformOrder ++;\n    self._pending ++;\n    self._transformPending ++;\n\n    var rec = {\n        transform: tr,\n        options: opts,\n        global: opts.global\n    };\n\n    if (typeof tr === 'string') {\n        var topts = {\n            basedir: basedir,\n            paths: (self._options.paths || []).map(function (p) {\n                return path.resolve(basedir, p);\n            })\n        };\n        resolve(tr, topts, function (err, res) {\n            if (err) return self.emit('error', err);\n            rec.transform = res;\n            resolved();\n        });\n    }\n    else process.nextTick(resolved);\n    return this;\n};\n\nBrowserify.prototype.plugin = function (p, opts) {\n    if (isArray(p)) {\n        opts = p[1];\n        p = p[0];\n    }\n    if (!opts) opts = {};\n    var basedir = defined(opts.basedir, this._options.basedir, process.cwd());\n    if (typeof p === 'function') {\n        p(this, opts);\n    }\n    else {\n        var pfile = resolve.sync(String(p), { basedir: basedir })\n        var f = require(pfile);\n        if (typeof f !== 'function') {\n            throw new Error('plugin ' + p + ' should export a function');\n        }\n        f(this, opts);\n    }\n    return this;\n};\n\nBrowserify.prototype._createPipeline = function (opts) {\n    var self = this;\n    if (!opts) opts = {};\n    this._mdeps = this._createDeps(opts);\n    this._mdeps.on('file', function (file, id) {\n        pipeline.emit('file', file, id);\n        self.emit('file', file, id);\n    });\n    this._mdeps.on('package', function (pkg) {\n        pipeline.emit('package', pkg);\n        self.emit('package', pkg);\n    });\n    this._mdeps.on('transform', function (tr, file) {\n        pipeline.emit('transform', tr, file);\n        self.emit('transform', tr, file);\n    });\n    \n    var dopts = {\n        index: !opts.fullPaths && !opts.exposeAll,\n        dedupe: opts.dedupe,\n        expose: this._expose\n    };\n    this._bpack = bpack(xtend(opts, { raw: true }));\n    \n    var pipeline = splicer.obj([\n        'record', [ this._recorder() ],\n        'deps', [ this._mdeps ],\n        'json', [ this._json() ],\n        'unbom', [ this._unbom() ],\n        'unshebang', [ this._unshebang() ],\n        'syntax', [ this._syntax() ],\n        'sort', [ depsSort(dopts) ],\n        'dedupe', [ this._dedupe() ],\n        'label', [ this._label(opts) ],\n        'emit-deps', [ this._emitDeps() ],\n        'debug', [ this._debug(opts) ],\n        'pack', [ this._bpack ],\n        'wrap', []\n    ]);\n    if (opts.exposeAll) {\n        var basedir = defined(opts.basedir, process.cwd());\n        pipeline.get('deps').push(through.obj(function (row, enc, next) {\n            if (self._external.indexOf(row.id) >= 0) return next();\n            if (self._external.indexOf(row.file) >= 0) return next();\n            \n            if (isAbsolutePath(row.id)) {\n                row.id = '/' + relativePath(basedir, row.file);\n            }\n            Object.keys(row.deps || {}).forEach(function (key) {\n                row.deps[key] = '/' + relativePath(basedir, row.deps[key]);\n            });\n            this.push(row);\n            next();\n        }));\n    }\n    return pipeline;\n};\n\nBrowserify.prototype._createDeps = function (opts) {\n    var self = this;\n    var mopts = xtend(opts);\n    var basedir = defined(opts.basedir, process.cwd());\n\n    // Let mdeps populate these values since it will be resolving file paths\n    // anyway.\n    mopts.expose = this._expose;\n    mopts.extensions = [ '.js', '.json' ].concat(mopts.extensions || []);\n    self._extensions = mopts.extensions;\n\n    mopts.transform = [];\n    mopts.transformKey = defined(opts.transformKey, [ 'browserify', 'transform' ]);\n    mopts.postFilter = function (id, file, pkg) {\n        if (opts.postFilter && !opts.postFilter(id, file, pkg)) return false;\n        if (self._external.indexOf(file) >= 0) return false;\n        if (self._exclude.indexOf(file) >= 0) return false;\n\n        //filter transforms on module dependencies\n        if (pkg && pkg.browserify && pkg.browserify.transform) {\n            //In edge cases it may be a string\n            pkg.browserify.transform = [].concat(pkg.browserify.transform)\n                    .filter(Boolean)\n                    .filter(self._filterTransform);\n        }\n        return true;\n    };\n    mopts.filter = function (id) {\n        if (opts.filter && !opts.filter(id)) return false;\n        if (self._external.indexOf(id) >= 0) return false;\n        if (self._exclude.indexOf(id) >= 0) return false;\n        if (opts.bundleExternal === false && isExternalModule(id)) {\n            return false;\n        }\n        return true;\n    };\n    mopts.resolve = function (id, parent, cb) {\n        if (self._ignore.indexOf(id) >= 0) return cb(null, paths.empty, {});\n        \n        self._bresolve(id, parent, function (err, file, pkg) {\n            if (file && self._ignore.indexOf(file) >= 0) {\n                return cb(null, paths.empty, {});\n            }\n            if (file && self._ignore.length) {\n                var nm = file.replace(/\\\\/g, '/').split('/node_modules/')[1];\n                if (nm) {\n                    nm = nm.split('/')[0];\n                    if (self._ignore.indexOf(nm) >= 0) {\n                        return cb(null, paths.empty, {});\n                    }\n                }\n            }\n            \n            if (file) {\n                var ex = '/' + relativePath(basedir, file);\n                if (self._external.indexOf(ex) >= 0) {\n                    return cb(null, ex);\n                }\n                if (self._exclude.indexOf(ex) >= 0) {\n                    return cb(null, ex);\n                }\n                if (self._ignore.indexOf(ex) >= 0) {\n                    return cb(null, paths.empty, {});\n                }\n            }\n            if (err) cb(err, file, pkg)\n            else if (file) {\n                if (opts.preserveSymlinks && parent.id !== self._mdeps.top.id) {\n                    return cb(err, path.resolve(file), pkg, file)\n                }\n\n                fs.realpath(file, function (err, res) {\n                    cb(err, res, pkg, file);\n                });\n            } else cb(err, null, pkg)\n        });\n    };\n    \n    if (opts.builtins === false) {\n        mopts.modules = {};\n        self._exclude.push.apply(self._exclude, Object.keys(builtins));\n    }\n    else if (opts.builtins && isArray(opts.builtins)) {\n        mopts.modules = {};\n        opts.builtins.forEach(function (key) {\n            mopts.modules[key] = builtins[key];\n        });\n    }\n    else if (opts.builtins && typeof opts.builtins === 'object') {\n        mopts.modules = opts.builtins;\n    }\n    else mopts.modules = xtend(builtins);\n    \n    Object.keys(builtins).forEach(function (key) {\n        if (!has(mopts.modules, key)) self._exclude.push(key);\n    });\n    \n    mopts.globalTransform = [];\n    if (!this._bundled) {\n        this.once('bundle', function () {\n            self.pipeline.write({\n                transform: globalTr,\n                global: true,\n                options: {}\n            });\n        });\n    }\n    \n    var no = [].concat(opts.noParse).filter(Boolean);\n    var absno = no.filter(function(x) {\n        return typeof x === 'string';\n    }).map(function (x) {\n        return path.resolve(basedir, x);\n    });\n    \n    function globalTr (file) {\n        if (opts.detectGlobals === false) return through();\n        \n        if (opts.noParse === true) return through();\n        if (no.indexOf(file) >= 0) return through();\n        if (absno.indexOf(file) >= 0) return through();\n        \n        var parts = file.replace(/\\\\/g, '/').split('/node_modules/');\n        for (var i = 0; i < no.length; i++) {\n            if (typeof no[i] === 'function' && no[i](file)) {\n                return through();\n            }\n            else if (no[i] === parts[parts.length-1].split('/')[0]) {\n                return through();\n            }\n            else if (no[i] === parts[parts.length-1]) {\n                return through();\n            }\n        }\n\n        if (opts.commondir === false && opts.builtins === false) {\n          opts.insertGlobalVars = xtend({\n            __dirname: function(file, basedir) {\n              var dir = path.dirname(path.relative(basedir, file));\n              return 'require(\"path\").join(__dirname,' + dir.split(path.sep).map(JSON.stringify).join(',') + ')';\n            },\n            __filename: function(file, basedir) {\n              var filename = path.relative(basedir, file);\n              return 'require(\"path\").join(__dirname,' + filename.split(path.sep).map(JSON.stringify).join(',') + ')';\n            }\n          }, opts.insertGlobalVars);\n        }\n        \n        var vars = xtend({\n            process: function () { return \"require('_process')\" },\n        }, opts.insertGlobalVars);\n        \n        if (opts.bundleExternal === false) {\n            vars.process = undefined;\n            vars.buffer = undefined;\n        }\n\n        return insertGlobals(file, xtend(opts, {\n            debug: opts.debug,\n            always: opts.insertGlobals,\n            basedir: opts.commondir === false && isArray(opts.builtins)\n                ? '/'\n                : opts.basedir || process.cwd()\n            ,\n            vars: vars\n        }));\n    }\n    return mdeps(mopts);\n};\n\nBrowserify.prototype._recorder = function (opts) {\n    var self = this;\n    var ended = false;\n    this._recorded = [];\n    \n    if (!this._ticked) {\n        process.nextTick(function () {\n            self._ticked = true;\n            self._recorded.forEach(function (row) {\n                stream.push(row);\n            });\n            if (ended) stream.push(null);\n        });\n    }\n    \n    var stream = through.obj(write, end);\n    return stream;\n    \n    function write (row, enc, next) {\n        self._recorded.push(row);\n        if (self._ticked) this.push(row);\n        next();\n    }\n    function end () {\n        ended = true;\n        if (self._ticked) this.push(null);\n    }\n};\n\nBrowserify.prototype._json = function () {\n    return through.obj(function (row, enc, next) {\n        if (/\\.json$/.test(row.file)) {\n            var sanitizedString = sanitize(row.source);\n            try {\n                // check json validity\n                JSON.parse(sanitizedString);\n                row.source = 'module.exports=' + sanitizedString;\n            } catch (err) {\n                err.message = 'While parsing ' + (row.file || row.id) + ': ' + err.message\n                this.emit('error', err);\n                return;\n            }\n        }\n        this.push(row);\n        next();\n    });\n};\n\nBrowserify.prototype._unbom = function () {\n    return through.obj(function (row, enc, next) {\n        if (/^\\ufeff/.test(row.source)) {\n            row.source = row.source.replace(/^\\ufeff/, '');\n        }\n        this.push(row);\n        next();\n    });\n};\n\nBrowserify.prototype._unshebang = function () {\n    return through.obj(function (row, enc, next) {\n        if (/^#!/.test(row.source)) {\n            row.source = row.source.replace(/^#![^\\n]*\\n/, '');\n        }\n        this.push(row);\n        next();\n    });\n};\n\nBrowserify.prototype._syntax = function () {\n    var self = this;\n    return through.obj(function (row, enc, next) {\n        var h = shasum(row.source);\n        if (typeof self._syntaxCache[h] === 'undefined') {\n            var err = syntaxError(row.source, row.file || row.id);\n            if (err) return this.emit('error', err);\n            self._syntaxCache[h] = true;\n        }\n        this.push(row);\n        next();\n    });\n};\n\nBrowserify.prototype._dedupe = function () {\n    return through.obj(function (row, enc, next) {\n        if (!row.dedupeIndex && row.dedupe) {\n            row.source = 'arguments[4]['\n                + JSON.stringify(row.dedupe)\n                + '][0].apply(exports,arguments)'\n            ;\n            row.nomap = true;\n        }\n        else if (row.dedupeIndex) {\n            row.source = 'arguments[4]['\n                + JSON.stringify(row.dedupeIndex)\n                + '][0].apply(exports,arguments)'\n            ;\n            row.nomap = true;\n        }\n        if (row.dedupeIndex && row.indexDeps) {\n            row.indexDeps.dup = row.dedupeIndex;\n        }\n        this.push(row);\n        next();\n    });\n};\n\nBrowserify.prototype._label = function (opts) {\n    var self = this;\n    var basedir = defined(opts.basedir, process.cwd());\n    \n    return through.obj(function (row, enc, next) {\n        var prev = row.id;\n\n        if (self._external.indexOf(row.id) >= 0) return next();\n        if (self._external.indexOf('/' + relativePath(basedir, row.id)) >= 0) {\n            return next();\n        }\n        if (self._external.indexOf(row.file) >= 0) return next();\n        \n        if (row.index) row.id = row.index;\n        \n        self.emit('label', prev, row.id);\n        if (row.indexDeps) row.deps = row.indexDeps || {};\n        \n        Object.keys(row.deps).forEach(function (key) {\n            if (self._expose[key]) {\n                row.deps[key] = key;\n                return;\n            }\n\n            var afile = path.resolve(path.dirname(row.file), key);\n            var rfile = '/' + relativePath(basedir, afile);\n            if (self._external.indexOf(rfile) >= 0) {\n                row.deps[key] = rfile;\n            }\n            if (self._external.indexOf(afile) >= 0) {\n                row.deps[key] = rfile;\n            }\n            if (self._external.indexOf(key) >= 0) {\n                row.deps[key] = key;\n                return;\n            }\n            \n            for (var i = 0; i < self._extensions.length; i++) {\n                var ex = self._extensions[i];\n                if (self._external.indexOf(rfile + ex) >= 0) {\n                    row.deps[key] = rfile + ex;\n                    break;\n                }\n            }\n        });\n        \n        if (row.entry || row.expose) {\n            self._bpack.standaloneModule = row.id;\n        }\n        this.push(row);\n        next();\n    });\n};\n\nBrowserify.prototype._emitDeps = function () {\n    var self = this;\n    return through.obj(function (row, enc, next) {\n        self.emit('dep', row);\n        this.push(row);\n        next();\n    })\n};\n\nBrowserify.prototype._debug = function (opts) {\n    var basedir = defined(opts.basedir, process.cwd());\n    return through.obj(function (row, enc, next) {\n        if (opts.debug) {\n            row.sourceRoot = 'file://localhost';\n            row.sourceFile = relativePath(basedir, row.file);\n        }\n        this.push(row);\n        next();\n    });\n};\n\nBrowserify.prototype.reset = function (opts) {\n    if (!opts) opts = {};\n    var hadExports = this._bpack.hasExports;\n    this.pipeline = this._createPipeline(xtend(opts, this._options));\n    this._bpack.hasExports = hadExports;\n    this._entryOrder = 0;\n    this._bundled = false;\n    this.emit('reset');\n};\n\nBrowserify.prototype.bundle = function (cb) {\n    var self = this;\n    if (cb && typeof cb === 'object') {\n        throw new Error(\n            'bundle() no longer accepts option arguments.\\n'\n            + 'Move all option arguments to the browserify() constructor.'\n        );\n    }\n    if (this._bundled) {\n        var recorded = this._recorded;\n        this.reset();\n        recorded.forEach(function (x) {\n            self.pipeline.write(x);\n        });\n    }\n    var output = readonly(this.pipeline);\n    if (cb) {\n        output.on('error', cb);\n        output.pipe(concat(function (body) {\n            cb(null, body);\n        }));\n    }\n\n    function ready () {\n        self.emit('bundle', output);\n        self.pipeline.end();\n    }\n\n    if (this._pending === 0) ready();\n    else this.once('_ready', ready);\n\n    this._bundled = true;\n    return output;\n};\n\nfunction isStream (s) { return s && typeof s.pipe === 'function' }\nfunction isAbsolutePath (file) {\n    var regexp = process.platform === 'win32' ?\n        /^\\w:/ :\n        /^\\//;\n    return regexp.test(file);\n}\nfunction isExternalModule (file) {\n    var regexp = process.platform === 'win32' ?\n        /^(\\.|\\w:)/ :\n        /^[\\/.]/;\n    return !regexp.test(file);\n}\nfunction relativePath (from, to) {\n    // Replace \\ with / for OS-independent behavior\n    return cachedPathRelative(from, to).replace(/\\\\/g, '/');\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}